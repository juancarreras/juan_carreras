{"ast":null,"code":"var _jsxFileName = \"/home/juan/Escritorio/React/juan_carreras/src/context/CartContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/React.createContext([]);\nCartContext.displayName = \"CartContext\";\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n\n  const [cart, setCart] = React.useState([]);\n  const [subtotal, setSubtotal] = React.useState();\n  const [total, setTotal] = React.useState();\n  const [envio, setEnvio] = React.useState();\n\n  const addItem = item => {\n    if (!exist(item.id)) {\n      setCart([...cart, item]);\n    } else {\n      cart.forEach((product, index) => {\n        if (product.id === item.id) {\n          cart[index].qty = item.qty;\n          setCart([...cart]);\n        }\n      });\n    }\n  };\n\n  const exist = id => {\n    const isIqual = cart.find(item => item.id === id);\n    return isIqual === undefined ? false : true;\n  };\n\n  const removeItem = id => {\n    const deleteProduct = cart.filter(item => item.id !== id);\n    setCart(deleteProduct);\n  };\n\n  const clear = () => {\n    setCart([]);\n  };\n\n  const getQuantity = () => {\n    let quantity = 0;\n    cart.forEach(product => {\n      quantity += Number(product.quantity);\n    });\n    return quantity;\n  };\n\n  const cartSummary = () => {\n    let subtotal = 0;\n    let envio = 0;\n    cart.forEach(item => {\n      subtotal += item.price * item.qty;\n      envio = parseFloat(subtotal * 0.15);\n    });\n    setSubtotal(subtotal);\n    setEnvio(envio);\n    setTotal(parseFloat(subtotal + envio));\n  };\n\n  const value = {\n    cart,\n    addItem,\n    removeItem,\n    clear,\n    exist,\n    getQuantity,\n    cartSummary,\n    subtotal,\n    envio,\n    total\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 10\n  }, this);\n};\n\n_s(CartProvider, \"kg2pzBqw9BnSC/ENV6AObi1LKd8=\");\n\n_c = CartProvider;\nexport const useCart = () => {\n  _s2();\n\n  const context = React.useContext(CartContext);\n\n  if (!context) {\n    throw new Error(\"useCart debe usarse desde adentro de un CartProvider\");\n  }\n\n  return context;\n};\n\n_s2(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["/home/juan/Escritorio/React/juan_carreras/src/context/CartContext.js"],"names":["React","CartContext","createContext","displayName","CartProvider","children","cart","setCart","useState","subtotal","setSubtotal","total","setTotal","envio","setEnvio","addItem","item","exist","id","forEach","product","index","qty","isIqual","find","undefined","removeItem","deleteProduct","filter","clear","getQuantity","quantity","Number","cartSummary","price","parseFloat","value","useCart","context","useContext","Error"],"mappings":"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","sourcesContent":["import * as React from \"react\";\n\nconst CartContext = React.createContext([]);\nCartContext.displayName = \"CartContext\";\n\nexport const CartProvider = ({ children }) => {\n  const [cart, setCart] = React.useState([]);\n  const [subtotal, setSubtotal] = React.useState();\n  const [total, setTotal] = React.useState();\n  const [envio, setEnvio] = React.useState();\n\n  const addItem = (item) => {\n    if (!exist(item.id)) {\n      setCart([...cart, item]);\n    } else {\n      cart.forEach((product, index) => {\n        if (product.id === item.id) {\n          cart[index].qty = item.qty;\n          setCart([...cart]);\n        }\n      });\n    }\n  };\n\n \n  const exist = (id) => {\n    const isIqual = cart.find((item) => item.id === id);\n    return isIqual === undefined ? false : true;\n  };\n\n\n\n  const removeItem = (id) => {\n    const deleteProduct = cart.filter((item) => item.id !== id);\n    setCart(deleteProduct);\n  };\n\n  const clear = () => {\n    setCart([]);\n  };\n\n\n  const getQuantity = () => {\n    let quantity = 0;\n    cart.forEach((product) => {\n      quantity += Number(product.quantity);\n    });\n    return quantity;\n  };\n\n  const cartSummary = () => {\n    let subtotal = 0;\n    let envio = 0;\n\n    cart.forEach((item) => {\n      subtotal += (item.price * item.qty);\n      envio = (parseFloat(subtotal * 0.15));\n    });\n\n    setSubtotal(subtotal);\n    setEnvio(envio);\n    setTotal(parseFloat(subtotal + envio));\n  };\n\n\n  const value = { cart, addItem, removeItem, clear, exist, getQuantity, cartSummary, subtotal, envio, total };\n\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\n};\nexport const useCart = () => {\n  const context = React.useContext(CartContext);\n  if (!context) {\n    throw new Error(\"useCart debe usarse desde adentro de un CartProvider\");\n  }\n  return context;\n};\n"]},"metadata":{},"sourceType":"module"}